<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="500" height="400">

  <!-- 测试1: 编码URL -->
  <a href="&#104;&#116;&#116;&#112;&#115;&#58;&#47;&#47;&#101;&#120;&#97;&#109;&#112;&#108;&#101;&#46;&#99;&#111;&#109;&#47;&#116;&#101;&#115;&#116;&#49;">
    <text x="20" y="30">编码链接测试1</text>
  </a>

  <!-- 测试2: 协议相对URL -->
  <a href="//example.com/test2">
    <text x="20" y="60">协议相对链接</text>
  </a>

  <!-- 测试3: 混合编码 -->
  <a href="https:&#47;&#47;example.com&#47;test3">
    <text x="20" y="90">混合编码链接</text>
  </a>

  <!-- 测试4: 数据URI嵌套SVG -->
  <image href="data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAiIGhlaWdodD0iMTAwIj4KPGEgaHJlZj0iaHR0cHM6Ly9leGFtcGxlLmNvbS9uZXN0ZWQiPgo8cmVjdCB4PSIwIiB5PSIwIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iI2YwMCIvPgo8dGV4dCB4PSIyMCIgeT0iNTAiIGZpbGw9IiNmZmYiPk5lc3RlZCBTdmc8L3RleHQ+CjwvYT4KPC9zdmc+" 
         x="200" y="20" width="200" height="100"/>

  <!-- 测试5: 特殊协议 -->
  <a href="mailto:test@example.com?subject=Test&amp;body=Hello">
    <text x="20" y="120">邮件链接测试</text>
  </a>

  <!-- 测试6: 内联样式背景 -->
  <rect x="20" y="150" width="100" height="50" 
        style="fill: url(&#35;grad); cursor: pointer;"
        onclick="console.log('click')"/>

  <!-- 测试7: 渐变填充包含数据 -->
  <defs>
    <linearGradient id="grad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:red;stop-opacity:1"/>
      <stop offset="100%" style="stop-color:blue;stop-opacity:1"/>
    </linearGradient>
  </defs>

  <!-- 测试8: CSS变量尝试 -->
  <style>
    :root { --test-url: "example.com"; }
    .test-link { cursor: pointer; }
  </style>
  <rect class="test-link" x="150" y="150" width="100" height="50" fill="green"/>

  <!-- 测试9: 动画事件 -->
  <circle cx="300" cy="200" r="30" fill="orange">
    <animate attributeName="r" from="30" to="35" begin="0s" dur="2s" 
             repeatCount="indefinite" onbegin="console.log('start')"/>
  </circle>

  <!-- 测试10: 路径数据隐藏 -->
  <path d="M20,250 L120,250 L120,280 L20,280 Z" 
        fill="purple" 
        style="cursor: pointer;"/>

  <!-- 测试11: 变换链 -->
  <g transform="translate(150, 220) scale(1) rotate(0)">
    <rect width="80" height="40" fill="brown"/>
    <text x="10" y="25" fill="white">变换测试</text>
  </g>

  <!-- 测试12: 符号使用 -->
  <symbol id="testSymbol" viewBox="0 0 50 30">
    <rect width="50" height="30" fill="cyan"/>
    <text x="10" y="20">符号</text>
  </symbol>
  <use href="#testSymbol" x="250" y="220"/>

  <!-- 测试13: 滤镜效果 -->
  <defs>
    <filter id="blurFilter">
      <feGaussianBlur in="SourceGraphic" stdDeviation="5"/>
    </filter>
  </defs>
  <text x="20" y="320" filter="url(#blurFilter)" font-size="20">模糊文本</text>

  <!-- 测试14: 文本路径 -->
  <defs>
    <path id="textPath" d="M20,350 L200,350"/>
  </defs>
  <text font-size="16">
    <textPath href="#textPath">沿着路径的文本内容测试</textPath>
  </text>

  <!-- 测试15: 多重嵌套组 -->
  <g>
    <g>
      <g transform="translate(300, 300)">
        <rect width="60" height="30" fill="pink"/>
        <text x="5" y="20">深度嵌套</text>
      </g>
    </g>
  </g>

  <!-- 测试16: 条件处理 -->
  <switch>
    <g requiredFeatures="http://www.w3.org/Graphics/SVG/feature/1.2/#TextFlow">
      <text x="350" y="350">条件内容</text>
    </g>
    <g>
      <text x="350" y="350">回退内容</text>
    </g>
  </switch>

</svg>
